{"ast":null,"code":"// Generated by CoffeeScript 1.12.7\n(function () {\n  var hasModule,\n      isArray,\n      makeTwix,\n      slice = [].slice;\n  hasModule = typeof module !== \"undefined\" && module !== null && module.exports != null && typeof require === 'function';\n\n  isArray = function (input) {\n    return Object.prototype.toString.call(input) === '[object Array]';\n  };\n\n  makeTwix = function (moment) {\n    var Twix;\n\n    if (moment == null) {\n      throw new Error(\"Can't find moment\");\n    }\n\n    Twix = function () {\n      function Twix(start, end, parseFormat, options) {\n        var ref;\n\n        if (options == null) {\n          options = {};\n        }\n\n        if (typeof parseFormat !== 'string') {\n          options = parseFormat != null ? parseFormat : {};\n          parseFormat = null;\n        }\n\n        if (typeof options === 'boolean') {\n          options = {\n            allDay: options\n          };\n        }\n\n        this._oStart = moment(start, parseFormat, options.parseStrict);\n        this._oEnd = moment(end, parseFormat, options.parseStrict);\n        this.allDay = (ref = options.allDay) != null ? ref : false;\n\n        this._mutated();\n      }\n\n      Twix._extend = function () {\n        var attr, first, j, len, other, others;\n        first = arguments[0], others = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n\n        for (j = 0, len = others.length; j < len; j++) {\n          other = others[j];\n\n          for (attr in other) {\n            if (typeof other[attr] !== 'undefined') {\n              first[attr] = other[attr];\n            }\n          }\n        }\n\n        return first;\n      };\n\n      Twix.prototype.start = function () {\n        return this._start.clone();\n      };\n\n      Twix.prototype.end = function () {\n        return this._end.clone();\n      };\n\n      Twix.prototype.isSame = function (period) {\n        return this._start.isSame(this._end, period);\n      };\n\n      Twix.prototype.length = function (period, floatingPoint) {\n        if (floatingPoint == null) {\n          floatingPoint = false;\n        }\n\n        return this._displayEnd.diff(this._start, period, floatingPoint);\n      };\n\n      Twix.prototype.count = function (period) {\n        var end, start;\n        start = this.start().startOf(period);\n        end = this.end().startOf(period);\n        return end.diff(start, period) + 1;\n      };\n\n      Twix.prototype.countInner = function (period) {\n        var end, ref, start;\n        ref = this._inner(period), start = ref[0], end = ref[1];\n\n        if (start >= end) {\n          return 0;\n        }\n\n        return end.diff(start, period);\n      };\n\n      Twix.prototype.iterate = function (intervalAmount, period, minHours) {\n        var end, hasNext, ref, start;\n        ref = this._prepIterateInputs(intervalAmount, period, minHours), intervalAmount = ref[0], period = ref[1], minHours = ref[2];\n        start = this.start().startOf(period);\n        end = this.end().startOf(period);\n\n        if (this.allDay) {\n          end = end.add(1, 'd');\n        }\n\n        hasNext = function (_this) {\n          return function () {\n            return !_this.allDay && start <= end && (!minHours || !start.isSame(end) || _this._end.hours() > minHours) || _this.allDay && start < end;\n          };\n        }(this);\n\n        return this._iterateHelper(period, start, hasNext, intervalAmount);\n      };\n\n      Twix.prototype.iterateInner = function (intervalAmount, period) {\n        var end, hasNext, ref, ref1, start;\n        ref = this._prepIterateInputs(intervalAmount, period), intervalAmount = ref[0], period = ref[1];\n        ref1 = this._inner(period, intervalAmount), start = ref1[0], end = ref1[1];\n\n        hasNext = function () {\n          return start < end;\n        };\n\n        return this._iterateHelper(period, start, hasNext, intervalAmount);\n      };\n\n      Twix.prototype.humanizeLength = function () {\n        if (this.allDay) {\n          if (this.isSame('d')) {\n            return 'all day';\n          } else {\n            return this._start.from(this.end().add(1, 'd'), true);\n          }\n        } else {\n          return this._start.from(this._end, true);\n        }\n      };\n\n      Twix.prototype.asDuration = function (units) {\n        var diff;\n        diff = this._end.diff(this._start);\n        return moment.duration(diff);\n      };\n\n      Twix.prototype.isPast = function () {\n        return this._lastMilli < moment();\n      };\n\n      Twix.prototype.isFuture = function () {\n        return this._start > moment();\n      };\n\n      Twix.prototype.isCurrent = function () {\n        return !this.isPast() && !this.isFuture();\n      };\n\n      Twix.prototype.contains = function (mom) {\n        if (!moment.isMoment(mom)) {\n          mom = moment(mom);\n        }\n\n        return this._start <= mom && this._lastMilli >= mom;\n      };\n\n      Twix.prototype.isEmpty = function () {\n        return this._start.isSame(this._displayEnd);\n      };\n\n      Twix.prototype.overlaps = function (other) {\n        return this._displayEnd.isAfter(other._start) && this._start.isBefore(other._displayEnd);\n      };\n\n      Twix.prototype.engulfs = function (other) {\n        return this._start <= other._start && this._displayEnd >= other._displayEnd;\n      };\n\n      Twix.prototype.union = function (other) {\n        var allDay, newEnd, newStart;\n        allDay = this.allDay && other.allDay;\n        newStart = this._start < other._start ? this._start : other._start;\n        newEnd = this._lastMilli > other._lastMilli ? allDay ? this._end : this._displayEnd : allDay ? other._end : other._displayEnd;\n        return new Twix(newStart, newEnd, allDay);\n      };\n\n      Twix.prototype.intersection = function (other) {\n        var allDay, newEnd, newStart;\n        allDay = this.allDay && other.allDay;\n        newStart = this._start > other._start ? this._start : other._start;\n        newEnd = this._lastMilli < other._lastMilli ? allDay ? this._end : this._displayEnd : allDay ? other._end : other._displayEnd;\n        return new Twix(newStart, newEnd, allDay);\n      };\n\n      Twix.prototype.xor = function () {\n        var allDay, arr, endTime, i, item, j, k, last, len, len1, o, open, other, others, ref, results, start, t;\n        others = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        open = 0;\n        start = null;\n        results = [];\n\n        allDay = function () {\n          var j, len, results1;\n          results1 = [];\n\n          for (j = 0, len = others.length; j < len; j++) {\n            o = others[j];\n\n            if (o.allDay) {\n              results1.push(o);\n            }\n          }\n\n          return results1;\n        }().length === others.length;\n\n        arr = [];\n        ref = [this].concat(others);\n\n        for (i = j = 0, len = ref.length; j < len; i = ++j) {\n          item = ref[i];\n          arr.push({\n            time: item._start,\n            i: i,\n            type: 0\n          });\n          arr.push({\n            time: item._displayEnd,\n            i: i,\n            type: 1\n          });\n        }\n\n        arr = arr.sort(function (a, b) {\n          return a.time - b.time;\n        });\n\n        for (k = 0, len1 = arr.length; k < len1; k++) {\n          other = arr[k];\n\n          if (other.type === 1) {\n            open -= 1;\n          }\n\n          if (open === other.type) {\n            start = other.time;\n          }\n\n          if (open === (other.type + 1) % 2) {\n            if (start) {\n              last = results[results.length - 1];\n\n              if (last && last._end.isSame(start)) {\n                last._oEnd = other.time;\n\n                last._mutated();\n              } else {\n                endTime = allDay ? other.time.clone().subtract(1, 'd') : other.time;\n                t = new Twix(start, endTime, allDay);\n\n                if (!t.isEmpty()) {\n                  results.push(t);\n                }\n              }\n            }\n\n            start = null;\n          }\n\n          if (other.type === 0) {\n            open += 1;\n          }\n        }\n\n        return results;\n      };\n\n      Twix.prototype.difference = function () {\n        var j, len, others, ref, results1, t;\n        others = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        ref = this.xor.apply(this, others).map(function (_this) {\n          return function (i) {\n            return _this.intersection(i);\n          };\n        }(this));\n        results1 = [];\n\n        for (j = 0, len = ref.length; j < len; j++) {\n          t = ref[j];\n\n          if (!t.isEmpty() && t.isValid()) {\n            results1.push(t);\n          }\n        }\n\n        return results1;\n      };\n\n      Twix.prototype.split = function () {\n        var args, dur, end, final, i, mom, start, time, times, vals;\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        end = start = this.start();\n\n        if (moment.isDuration(args[0])) {\n          dur = args[0];\n        } else if (!moment.isMoment(args[0]) && !isArray(args[0]) && typeof args[0] === 'object' || typeof args[0] === 'number' && typeof args[1] === 'string') {\n          dur = moment.duration(args[0], args[1]);\n        } else if (isArray(args[0])) {\n          times = args[0];\n        } else {\n          times = args;\n        }\n\n        if (times) {\n          times = function () {\n            var j, len, results1;\n            results1 = [];\n\n            for (j = 0, len = times.length; j < len; j++) {\n              time = times[j];\n              results1.push(moment(time));\n            }\n\n            return results1;\n          }();\n\n          times = function () {\n            var j, len, results1;\n            results1 = [];\n\n            for (j = 0, len = times.length; j < len; j++) {\n              mom = times[j];\n\n              if (mom.isValid() && mom >= start) {\n                results1.push(mom);\n              }\n            }\n\n            return results1;\n          }().sort(function (a, b) {\n            return a.valueOf() - b.valueOf();\n          });\n        }\n\n        if (dur && dur.asMilliseconds() === 0 || times && times.length === 0) {\n          return [this];\n        }\n\n        vals = [];\n        i = 0;\n        final = this._displayEnd;\n\n        while (start < final && (times == null || times[i])) {\n          end = dur ? start.clone().add(dur) : times[i].clone();\n          end = moment.min(final, end);\n\n          if (!start.isSame(end)) {\n            vals.push(moment.twix(start, end));\n          }\n\n          start = end;\n          i += 1;\n        }\n\n        if (!end.isSame(this._displayEnd) && times) {\n          vals.push(moment.twix(end, this._displayEnd));\n        }\n\n        return vals;\n      };\n\n      Twix.prototype.divide = function (parts) {\n        return this.split(this.length() / parts, 'ms').slice(0, +(parts - 1) + 1 || 9e9);\n      };\n\n      Twix.prototype.isValid = function () {\n        return this._start.isValid() && this._end.isValid() && this._start <= this._displayEnd;\n      };\n\n      Twix.prototype.equals = function (other) {\n        return other instanceof Twix && this.allDay === other.allDay && this._start.valueOf() === other._start.valueOf() && this._end.valueOf() === other._end.valueOf();\n      };\n\n      Twix.prototype.toString = function () {\n        return \"{start: \" + this._start.format() + \", end: \" + this._end.format() + \", allDay: \" + (this.allDay ? 'true' : 'false') + \"}\";\n      };\n\n      Twix.prototype.toArray = function (intervalAmount, period, minHours) {\n        var itr, range;\n        itr = this.iterate(intervalAmount, period, minHours);\n        range = [];\n\n        while (itr.hasNext()) {\n          range.push(itr.next());\n        }\n\n        return range;\n      };\n\n      Twix.prototype.simpleFormat = function (momentOpts, inopts) {\n        var options, s;\n        options = {\n          allDay: '(all day)',\n          template: Twix.formatTemplate\n        };\n\n        Twix._extend(options, inopts || {});\n\n        s = options.template(this._start.format(momentOpts), this._end.format(momentOpts));\n\n        if (this.allDay && options.allDay) {\n          s += \" \" + options.allDay;\n        }\n\n        return s;\n      };\n\n      Twix.prototype.format = function (inopts) {\n        var americanish, atomicMonthDate, common_bucket, end_bucket, fold, format, fs, global_first, goesIntoTheMorning, j, len, localFormat, momentHourFormat, needDate, needsMeridiem, options, process, start_bucket, together;\n\n        if (this.isEmpty()) {\n          return '';\n        }\n\n        momentHourFormat = this._start.localeData()._longDateFormat['LT'][0];\n        options = {\n          groupMeridiems: true,\n          spaceBeforeMeridiem: true,\n          spaceBeforeMonth: true,\n          spaceBeforeDay: true,\n          showDayOfWeek: false,\n          showYearFirst: false,\n          hideTime: false,\n          hideYear: false,\n          implicitMinutes: true,\n          implicitDate: false,\n          implicitYear: true,\n          yearFormat: 'YYYY',\n          monthFormat: 'MMM',\n          weekdayFormat: 'ddd',\n          dayFormat: 'D',\n          meridiemFormat: 'A',\n          hourFormat: momentHourFormat,\n          minuteFormat: 'mm',\n          allDay: 'all day',\n          explicitAllDay: false,\n          lastNightEndsAt: 0,\n          template: Twix.formatTemplate\n        };\n\n        Twix._extend(options, inopts || {});\n\n        fs = [];\n        needsMeridiem = options.hourFormat && options.hourFormat[0] === 'h';\n        localFormat = this._start.localeData()._longDateFormat['L'];\n        americanish = localFormat.indexOf('M') < localFormat.indexOf('D');\n        goesIntoTheMorning = options.lastNightEndsAt > 0 && !this.allDay && this.end().startOf('d').valueOf() === this.start().add(1, 'd').startOf('d').valueOf() && this._start.hours() > 12 && this._end.hours() < options.lastNightEndsAt;\n        needDate = !options.hideDate && (!options.implicitDate || this.start().startOf('d').valueOf() !== moment().startOf('d').valueOf() || !(this.isSame('d') || goesIntoTheMorning));\n        atomicMonthDate = !(this.allDay || options.hideTime);\n\n        if (this.allDay && this.isSame('d') && (options.implicitDate || options.explicitAllDay)) {\n          fs.push({\n            name: 'all day simple',\n            fn: function () {\n              return options.allDay;\n            },\n            pre: ' ',\n            slot: 0\n          });\n        }\n\n        if (needDate && !options.hideYear && (!options.implicitYear || this._start.year() !== moment().year() || !this.isSame('y'))) {\n          fs.push({\n            name: 'year',\n            fn: function (date) {\n              return date.format(options.yearFormat);\n            },\n            pre: americanish ? ', ' : ' ',\n            slot: options.showYearFirst ? -1 : 4\n          });\n        }\n\n        if (atomicMonthDate && needDate) {\n          fs.push({\n            name: 'month-date',\n            fn: function (date) {\n              var format;\n              format = americanish ? options.monthFormat + \" \" + options.dayFormat : options.dayFormat + \" \" + options.monthFormat;\n              return date.format(format);\n            },\n            ignoreEnd: function () {\n              return goesIntoTheMorning;\n            },\n            pre: ' ',\n            slot: 2\n          });\n        }\n\n        if (!atomicMonthDate && needDate) {\n          fs.push({\n            name: 'month',\n            fn: function (date) {\n              return date.format(options.monthFormat);\n            },\n            pre: options.spaceBeforeMonth ? ' ' : '',\n            slot: americanish ? 2 : 3\n          });\n        }\n\n        if (!atomicMonthDate && needDate) {\n          fs.push({\n            name: 'date',\n            fn: function (date) {\n              return date.format(options.dayFormat);\n            },\n            pre: options.spaceBeforeDay ? ' ' : '',\n            slot: americanish ? 3 : 2\n          });\n        }\n\n        if (needDate && options.showDayOfWeek) {\n          fs.push({\n            name: 'day of week',\n            fn: function (date) {\n              return date.format(options.weekdayFormat);\n            },\n            pre: ' ',\n            slot: 1\n          });\n        }\n\n        if (options.groupMeridiems && needsMeridiem && !this.allDay && !options.hideTime) {\n          fs.push({\n            name: 'meridiem',\n            fn: function (t) {\n              return t.format(options.meridiemFormat);\n            },\n            slot: 6,\n            pre: options.spaceBeforeMeridiem ? ' ' : ''\n          });\n        }\n\n        if (!this.allDay && !options.hideTime) {\n          fs.push({\n            name: 'time',\n            fn: function (date) {\n              var str;\n              str = date.minutes() === 0 && options.implicitMinutes && needsMeridiem ? date.format(options.hourFormat) : date.format(options.hourFormat + \":\" + options.minuteFormat);\n\n              if (!options.groupMeridiems && needsMeridiem) {\n                if (options.spaceBeforeMeridiem) {\n                  str += ' ';\n                }\n\n                str += date.format(options.meridiemFormat);\n              }\n\n              return str;\n            },\n            slot: 5,\n            pre: ', '\n          });\n        }\n\n        start_bucket = [];\n        end_bucket = [];\n        common_bucket = [];\n        together = true;\n\n        process = function (_this) {\n          return function (format) {\n            var end_str, start_group, start_str;\n            start_str = format.fn(_this._start);\n            end_str = format.ignoreEnd && format.ignoreEnd() ? start_str : format.fn(_this._end);\n            start_group = {\n              format: format,\n              value: function () {\n                return start_str;\n              }\n            };\n\n            if (end_str === start_str && together) {\n              return common_bucket.push(start_group);\n            } else {\n              if (together) {\n                together = false;\n                common_bucket.push({\n                  format: {\n                    slot: format.slot,\n                    pre: ''\n                  },\n                  value: function () {\n                    return options.template(fold(start_bucket), fold(end_bucket, true).trim());\n                  }\n                });\n              }\n\n              start_bucket.push(start_group);\n              return end_bucket.push({\n                format: format,\n                value: function () {\n                  return end_str;\n                }\n              });\n            }\n          };\n        }(this);\n\n        for (j = 0, len = fs.length; j < len; j++) {\n          format = fs[j];\n          process(format);\n        }\n\n        global_first = true;\n\n        fold = function (array, skip_pre) {\n          var k, len1, local_first, ref, section, str;\n          local_first = true;\n          str = '';\n          ref = array.sort(function (a, b) {\n            return a.format.slot - b.format.slot;\n          });\n\n          for (k = 0, len1 = ref.length; k < len1; k++) {\n            section = ref[k];\n\n            if (!global_first) {\n              if (local_first && skip_pre) {\n                str += ' ';\n              } else {\n                str += section.format.pre;\n              }\n            }\n\n            str += section.value();\n            global_first = false;\n            local_first = false;\n          }\n\n          return str;\n        };\n\n        return fold(common_bucket);\n      };\n\n      Twix.prototype._iterateHelper = function (period, iter, hasNext, intervalAmount) {\n        return {\n          next: function () {\n            var val;\n\n            if (!hasNext()) {\n              return null;\n            } else {\n              val = iter.clone();\n              iter.add(intervalAmount, period);\n              return val;\n            }\n          },\n          hasNext: hasNext\n        };\n      };\n\n      Twix.prototype._prepIterateInputs = function () {\n        var inputs, intervalAmount, minHours, period, ref, ref1;\n        inputs = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n\n        if (typeof inputs[0] === 'number') {\n          return inputs;\n        }\n\n        if (typeof inputs[0] === 'string') {\n          period = inputs.shift();\n          intervalAmount = (ref = inputs.pop()) != null ? ref : 1;\n\n          if (inputs.length) {\n            minHours = (ref1 = inputs[0]) != null ? ref1 : false;\n          }\n        }\n\n        if (moment.isDuration(inputs[0])) {\n          period = 'ms';\n          intervalAmount = inputs[0].as(period);\n        }\n\n        return [intervalAmount, period, minHours];\n      };\n\n      Twix.prototype._inner = function (period, intervalAmount) {\n        var durationCount, durationPeriod, end, modulus, start;\n\n        if (period == null) {\n          period = 'ms';\n        }\n\n        if (intervalAmount == null) {\n          intervalAmount = 1;\n        }\n\n        start = this.start();\n        end = this._displayEnd.clone();\n\n        if (start > start.clone().startOf(period)) {\n          start.startOf(period).add(intervalAmount, period);\n        }\n\n        if (end < end.clone().endOf(period)) {\n          end.startOf(period);\n        }\n\n        durationPeriod = start.twix(end).asDuration(period);\n        durationCount = durationPeriod.get(period);\n        modulus = durationCount % intervalAmount;\n        end.subtract(modulus, period);\n        return [start, end];\n      };\n\n      Twix.prototype._mutated = function () {\n        this._start = this.allDay ? this._oStart.clone().startOf('d') : this._oStart;\n        this._lastMilli = this.allDay ? this._oEnd.clone().endOf('d') : this._oEnd;\n        this._end = this.allDay ? this._oEnd.clone().startOf('d') : this._oEnd;\n        return this._displayEnd = this.allDay ? this._end.clone().add(1, 'd') : this._end;\n      };\n\n      return Twix;\n    }();\n\n    Twix._extend(moment.locale(), {\n      _twix: Twix.defaults\n    });\n\n    Twix.formatTemplate = function (leftSide, rightSide) {\n      return leftSide + \" - \" + rightSide;\n    };\n\n    moment.twix = function () {\n      return function (func, args, ctor) {\n        ctor.prototype = func.prototype;\n        var child = new ctor(),\n            result = func.apply(child, args);\n        return Object(result) === result ? result : child;\n      }(Twix, arguments, function () {});\n    };\n\n    moment.fn.twix = function () {\n      return function (func, args, ctor) {\n        ctor.prototype = func.prototype;\n        var child = new ctor(),\n            result = func.apply(child, args);\n        return Object(result) === result ? result : child;\n      }(Twix, [this].concat(slice.call(arguments)), function () {});\n    };\n\n    moment.fn.forDuration = function (duration, allDay) {\n      return new Twix(this, this.clone().add(duration), allDay);\n    };\n\n    if (moment.duration.fn) {\n      moment.duration.fn.afterMoment = function (startingTime, allDay) {\n        return new Twix(startingTime, moment(startingTime).clone().add(this), allDay);\n      };\n\n      moment.duration.fn.beforeMoment = function (startingTime, allDay) {\n        return new Twix(moment(startingTime).clone().subtract(this), startingTime, allDay);\n      };\n    }\n\n    moment.twixClass = Twix;\n    return Twix;\n  };\n\n  if (hasModule) {\n    return module.exports = makeTwix(require('moment'));\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define('twix', ['moment'], function (moment) {\n      return makeTwix(moment);\n    });\n  }\n\n  if (this.moment) {\n    this.Twix = makeTwix(this.moment);\n  } else if (typeof moment !== \"undefined\" && moment !== null) {\n    this.Twix = makeTwix(moment);\n  }\n}).call(this);","map":{"version":3,"sources":["C:/Users/Admin/Documents/new project 2/databeastai/frontend/node_modules/twix/dist/twix.js"],"names":["hasModule","isArray","makeTwix","slice","module","exports","require","input","Object","prototype","toString","call","moment","Twix","Error","start","end","parseFormat","options","ref","allDay","_oStart","parseStrict","_oEnd","_mutated","_extend","attr","first","j","len","other","others","arguments","length","_start","clone","_end","isSame","period","floatingPoint","_displayEnd","diff","count","startOf","countInner","_inner","iterate","intervalAmount","minHours","hasNext","_prepIterateInputs","add","_this","hours","_iterateHelper","iterateInner","ref1","humanizeLength","from","asDuration","units","duration","isPast","_lastMilli","isFuture","isCurrent","contains","mom","isMoment","isEmpty","overlaps","isAfter","isBefore","engulfs","union","newEnd","newStart","intersection","xor","arr","endTime","i","item","k","last","len1","o","open","results","t","results1","push","concat","time","type","sort","a","b","subtract","difference","apply","map","isValid","split","args","dur","final","times","vals","isDuration","valueOf","asMilliseconds","min","twix","divide","parts","equals","format","toArray","itr","range","next","simpleFormat","momentOpts","inopts","s","template","formatTemplate","americanish","atomicMonthDate","common_bucket","end_bucket","fold","fs","global_first","goesIntoTheMorning","localFormat","momentHourFormat","needDate","needsMeridiem","process","start_bucket","together","localeData","_longDateFormat","groupMeridiems","spaceBeforeMeridiem","spaceBeforeMonth","spaceBeforeDay","showDayOfWeek","showYearFirst","hideTime","hideYear","implicitMinutes","implicitDate","implicitYear","yearFormat","monthFormat","weekdayFormat","dayFormat","meridiemFormat","hourFormat","minuteFormat","explicitAllDay","lastNightEndsAt","indexOf","hideDate","name","fn","pre","slot","year","date","ignoreEnd","str","minutes","end_str","start_group","start_str","value","trim","array","skip_pre","local_first","section","iter","val","inputs","shift","pop","as","durationCount","durationPeriod","modulus","endOf","get","locale","_twix","defaults","leftSide","rightSide","func","ctor","child","result","forDuration","afterMoment","startingTime","beforeMoment","twixClass","define","amd"],"mappings":"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","sourcesContent":["// Generated by CoffeeScript 1.12.7\r\n(function() {\r\n  var hasModule, isArray, makeTwix,\r\n    slice = [].slice;\r\n\r\n  hasModule = (typeof module !== \"undefined\" && module !== null) && (module.exports != null) && typeof require === 'function';\r\n\r\n  isArray = function(input) {\r\n    return Object.prototype.toString.call(input) === '[object Array]';\r\n  };\r\n\r\n  makeTwix = function(moment) {\r\n    var Twix;\r\n    if (moment == null) {\r\n      throw new Error(\"Can't find moment\");\r\n    }\r\n    Twix = (function() {\r\n      function Twix(start, end, parseFormat, options) {\r\n        var ref;\r\n        if (options == null) {\r\n          options = {};\r\n        }\r\n        if (typeof parseFormat !== 'string') {\r\n          options = parseFormat != null ? parseFormat : {};\r\n          parseFormat = null;\r\n        }\r\n        if (typeof options === 'boolean') {\r\n          options = {\r\n            allDay: options\r\n          };\r\n        }\r\n        this._oStart = moment(start, parseFormat, options.parseStrict);\r\n        this._oEnd = moment(end, parseFormat, options.parseStrict);\r\n        this.allDay = (ref = options.allDay) != null ? ref : false;\r\n        this._mutated();\r\n      }\r\n\r\n      Twix._extend = function() {\r\n        var attr, first, j, len, other, others;\r\n        first = arguments[0], others = 2 <= arguments.length ? slice.call(arguments, 1) : [];\r\n        for (j = 0, len = others.length; j < len; j++) {\r\n          other = others[j];\r\n          for (attr in other) {\r\n            if (typeof other[attr] !== 'undefined') {\r\n              first[attr] = other[attr];\r\n            }\r\n          }\r\n        }\r\n        return first;\r\n      };\r\n\r\n      Twix.prototype.start = function() {\r\n        return this._start.clone();\r\n      };\r\n\r\n      Twix.prototype.end = function() {\r\n        return this._end.clone();\r\n      };\r\n\r\n      Twix.prototype.isSame = function(period) {\r\n        return this._start.isSame(this._end, period);\r\n      };\r\n\r\n      Twix.prototype.length = function(period, floatingPoint) {\r\n        if (floatingPoint == null) {\r\n          floatingPoint = false;\r\n        }\r\n        return this._displayEnd.diff(this._start, period, floatingPoint);\r\n      };\r\n\r\n      Twix.prototype.count = function(period) {\r\n        var end, start;\r\n        start = this.start().startOf(period);\r\n        end = this.end().startOf(period);\r\n        return end.diff(start, period) + 1;\r\n      };\r\n\r\n      Twix.prototype.countInner = function(period) {\r\n        var end, ref, start;\r\n        ref = this._inner(period), start = ref[0], end = ref[1];\r\n        if (start >= end) {\r\n          return 0;\r\n        }\r\n        return end.diff(start, period);\r\n      };\r\n\r\n      Twix.prototype.iterate = function(intervalAmount, period, minHours) {\r\n        var end, hasNext, ref, start;\r\n        ref = this._prepIterateInputs(intervalAmount, period, minHours), intervalAmount = ref[0], period = ref[1], minHours = ref[2];\r\n        start = this.start().startOf(period);\r\n        end = this.end().startOf(period);\r\n        if (this.allDay) {\r\n          end = end.add(1, 'd');\r\n        }\r\n        hasNext = (function(_this) {\r\n          return function() {\r\n            return (!_this.allDay && start <= end && (!minHours || !start.isSame(end) || _this._end.hours() > minHours)) || (_this.allDay && start < end);\r\n          };\r\n        })(this);\r\n        return this._iterateHelper(period, start, hasNext, intervalAmount);\r\n      };\r\n\r\n      Twix.prototype.iterateInner = function(intervalAmount, period) {\r\n        var end, hasNext, ref, ref1, start;\r\n        ref = this._prepIterateInputs(intervalAmount, period), intervalAmount = ref[0], period = ref[1];\r\n        ref1 = this._inner(period, intervalAmount), start = ref1[0], end = ref1[1];\r\n        hasNext = function() {\r\n          return start < end;\r\n        };\r\n        return this._iterateHelper(period, start, hasNext, intervalAmount);\r\n      };\r\n\r\n      Twix.prototype.humanizeLength = function() {\r\n        if (this.allDay) {\r\n          if (this.isSame('d')) {\r\n            return 'all day';\r\n          } else {\r\n            return this._start.from(this.end().add(1, 'd'), true);\r\n          }\r\n        } else {\r\n          return this._start.from(this._end, true);\r\n        }\r\n      };\r\n\r\n      Twix.prototype.asDuration = function(units) {\r\n        var diff;\r\n        diff = this._end.diff(this._start);\r\n        return moment.duration(diff);\r\n      };\r\n\r\n      Twix.prototype.isPast = function() {\r\n        return this._lastMilli < moment();\r\n      };\r\n\r\n      Twix.prototype.isFuture = function() {\r\n        return this._start > moment();\r\n      };\r\n\r\n      Twix.prototype.isCurrent = function() {\r\n        return !this.isPast() && !this.isFuture();\r\n      };\r\n\r\n      Twix.prototype.contains = function(mom) {\r\n        if (!moment.isMoment(mom)) {\r\n          mom = moment(mom);\r\n        }\r\n        return this._start <= mom && this._lastMilli >= mom;\r\n      };\r\n\r\n      Twix.prototype.isEmpty = function() {\r\n        return this._start.isSame(this._displayEnd);\r\n      };\r\n\r\n      Twix.prototype.overlaps = function(other) {\r\n        return this._displayEnd.isAfter(other._start) && this._start.isBefore(other._displayEnd);\r\n      };\r\n\r\n      Twix.prototype.engulfs = function(other) {\r\n        return this._start <= other._start && this._displayEnd >= other._displayEnd;\r\n      };\r\n\r\n      Twix.prototype.union = function(other) {\r\n        var allDay, newEnd, newStart;\r\n        allDay = this.allDay && other.allDay;\r\n        newStart = this._start < other._start ? this._start : other._start;\r\n        newEnd = this._lastMilli > other._lastMilli ? (allDay ? this._end : this._displayEnd) : (allDay ? other._end : other._displayEnd);\r\n        return new Twix(newStart, newEnd, allDay);\r\n      };\r\n\r\n      Twix.prototype.intersection = function(other) {\r\n        var allDay, newEnd, newStart;\r\n        allDay = this.allDay && other.allDay;\r\n        newStart = this._start > other._start ? this._start : other._start;\r\n        newEnd = this._lastMilli < other._lastMilli ? (allDay ? this._end : this._displayEnd) : (allDay ? other._end : other._displayEnd);\r\n        return new Twix(newStart, newEnd, allDay);\r\n      };\r\n\r\n      Twix.prototype.xor = function() {\r\n        var allDay, arr, endTime, i, item, j, k, last, len, len1, o, open, other, others, ref, results, start, t;\r\n        others = 1 <= arguments.length ? slice.call(arguments, 0) : [];\r\n        open = 0;\r\n        start = null;\r\n        results = [];\r\n        allDay = ((function() {\r\n          var j, len, results1;\r\n          results1 = [];\r\n          for (j = 0, len = others.length; j < len; j++) {\r\n            o = others[j];\r\n            if (o.allDay) {\r\n              results1.push(o);\r\n            }\r\n          }\r\n          return results1;\r\n        })()).length === others.length;\r\n        arr = [];\r\n        ref = [this].concat(others);\r\n        for (i = j = 0, len = ref.length; j < len; i = ++j) {\r\n          item = ref[i];\r\n          arr.push({\r\n            time: item._start,\r\n            i: i,\r\n            type: 0\r\n          });\r\n          arr.push({\r\n            time: item._displayEnd,\r\n            i: i,\r\n            type: 1\r\n          });\r\n        }\r\n        arr = arr.sort(function(a, b) {\r\n          return a.time - b.time;\r\n        });\r\n        for (k = 0, len1 = arr.length; k < len1; k++) {\r\n          other = arr[k];\r\n          if (other.type === 1) {\r\n            open -= 1;\r\n          }\r\n          if (open === other.type) {\r\n            start = other.time;\r\n          }\r\n          if (open === (other.type + 1) % 2) {\r\n            if (start) {\r\n              last = results[results.length - 1];\r\n              if (last && last._end.isSame(start)) {\r\n                last._oEnd = other.time;\r\n                last._mutated();\r\n              } else {\r\n                endTime = allDay ? other.time.clone().subtract(1, 'd') : other.time;\r\n                t = new Twix(start, endTime, allDay);\r\n                if (!t.isEmpty()) {\r\n                  results.push(t);\r\n                }\r\n              }\r\n            }\r\n            start = null;\r\n          }\r\n          if (other.type === 0) {\r\n            open += 1;\r\n          }\r\n        }\r\n        return results;\r\n      };\r\n\r\n      Twix.prototype.difference = function() {\r\n        var j, len, others, ref, results1, t;\r\n        others = 1 <= arguments.length ? slice.call(arguments, 0) : [];\r\n        ref = this.xor.apply(this, others).map((function(_this) {\r\n          return function(i) {\r\n            return _this.intersection(i);\r\n          };\r\n        })(this));\r\n        results1 = [];\r\n        for (j = 0, len = ref.length; j < len; j++) {\r\n          t = ref[j];\r\n          if (!t.isEmpty() && t.isValid()) {\r\n            results1.push(t);\r\n          }\r\n        }\r\n        return results1;\r\n      };\r\n\r\n      Twix.prototype.split = function() {\r\n        var args, dur, end, final, i, mom, start, time, times, vals;\r\n        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\r\n        end = start = this.start();\r\n        if (moment.isDuration(args[0])) {\r\n          dur = args[0];\r\n        } else if ((!moment.isMoment(args[0]) && !isArray(args[0]) && typeof args[0] === 'object') || (typeof args[0] === 'number' && typeof args[1] === 'string')) {\r\n          dur = moment.duration(args[0], args[1]);\r\n        } else if (isArray(args[0])) {\r\n          times = args[0];\r\n        } else {\r\n          times = args;\r\n        }\r\n        if (times) {\r\n          times = (function() {\r\n            var j, len, results1;\r\n            results1 = [];\r\n            for (j = 0, len = times.length; j < len; j++) {\r\n              time = times[j];\r\n              results1.push(moment(time));\r\n            }\r\n            return results1;\r\n          })();\r\n          times = ((function() {\r\n            var j, len, results1;\r\n            results1 = [];\r\n            for (j = 0, len = times.length; j < len; j++) {\r\n              mom = times[j];\r\n              if (mom.isValid() && mom >= start) {\r\n                results1.push(mom);\r\n              }\r\n            }\r\n            return results1;\r\n          })()).sort(function(a, b) {\r\n            return a.valueOf() - b.valueOf();\r\n          });\r\n        }\r\n        if ((dur && dur.asMilliseconds() === 0) || (times && times.length === 0)) {\r\n          return [this];\r\n        }\r\n        vals = [];\r\n        i = 0;\r\n        final = this._displayEnd;\r\n        while (start < final && ((times == null) || times[i])) {\r\n          end = dur ? start.clone().add(dur) : times[i].clone();\r\n          end = moment.min(final, end);\r\n          if (!start.isSame(end)) {\r\n            vals.push(moment.twix(start, end));\r\n          }\r\n          start = end;\r\n          i += 1;\r\n        }\r\n        if (!end.isSame(this._displayEnd) && times) {\r\n          vals.push(moment.twix(end, this._displayEnd));\r\n        }\r\n        return vals;\r\n      };\r\n\r\n      Twix.prototype.divide = function(parts) {\r\n        return this.split(this.length() / parts, 'ms').slice(0, +(parts - 1) + 1 || 9e9);\r\n      };\r\n\r\n      Twix.prototype.isValid = function() {\r\n        return this._start.isValid() && this._end.isValid() && this._start <= this._displayEnd;\r\n      };\r\n\r\n      Twix.prototype.equals = function(other) {\r\n        return (other instanceof Twix) && this.allDay === other.allDay && this._start.valueOf() === other._start.valueOf() && this._end.valueOf() === other._end.valueOf();\r\n      };\r\n\r\n      Twix.prototype.toString = function() {\r\n        return \"{start: \" + (this._start.format()) + \", end: \" + (this._end.format()) + \", allDay: \" + (this.allDay ? 'true' : 'false') + \"}\";\r\n      };\r\n\r\n      Twix.prototype.toArray = function(intervalAmount, period, minHours) {\r\n        var itr, range;\r\n        itr = this.iterate(intervalAmount, period, minHours);\r\n        range = [];\r\n        while (itr.hasNext()) {\r\n          range.push(itr.next());\r\n        }\r\n        return range;\r\n      };\r\n\r\n      Twix.prototype.simpleFormat = function(momentOpts, inopts) {\r\n        var options, s;\r\n        options = {\r\n          allDay: '(all day)',\r\n          template: Twix.formatTemplate\r\n        };\r\n        Twix._extend(options, inopts || {});\r\n        s = options.template(this._start.format(momentOpts), this._end.format(momentOpts));\r\n        if (this.allDay && options.allDay) {\r\n          s += \" \" + options.allDay;\r\n        }\r\n        return s;\r\n      };\r\n\r\n      Twix.prototype.format = function(inopts) {\r\n        var americanish, atomicMonthDate, common_bucket, end_bucket, fold, format, fs, global_first, goesIntoTheMorning, j, len, localFormat, momentHourFormat, needDate, needsMeridiem, options, process, start_bucket, together;\r\n        if (this.isEmpty()) {\r\n          return '';\r\n        }\r\n        momentHourFormat = this._start.localeData()._longDateFormat['LT'][0];\r\n        options = {\r\n          groupMeridiems: true,\r\n          spaceBeforeMeridiem: true,\r\n          spaceBeforeMonth: true,\r\n          spaceBeforeDay: true,\r\n          showDayOfWeek: false,\r\n          showYearFirst: false,\r\n          hideTime: false,\r\n          hideYear: false,\r\n          implicitMinutes: true,\r\n          implicitDate: false,\r\n          implicitYear: true,\r\n          yearFormat: 'YYYY',\r\n          monthFormat: 'MMM',\r\n          weekdayFormat: 'ddd',\r\n          dayFormat: 'D',\r\n          meridiemFormat: 'A',\r\n          hourFormat: momentHourFormat,\r\n          minuteFormat: 'mm',\r\n          allDay: 'all day',\r\n          explicitAllDay: false,\r\n          lastNightEndsAt: 0,\r\n          template: Twix.formatTemplate\r\n        };\r\n        Twix._extend(options, inopts || {});\r\n        fs = [];\r\n        needsMeridiem = options.hourFormat && options.hourFormat[0] === 'h';\r\n        localFormat = this._start.localeData()._longDateFormat['L'];\r\n        americanish = localFormat.indexOf('M') < localFormat.indexOf('D');\r\n        goesIntoTheMorning = options.lastNightEndsAt > 0 && !this.allDay && this.end().startOf('d').valueOf() === this.start().add(1, 'd').startOf('d').valueOf() && this._start.hours() > 12 && this._end.hours() < options.lastNightEndsAt;\r\n        needDate = !options.hideDate && (!options.implicitDate || this.start().startOf('d').valueOf() !== moment().startOf('d').valueOf() || !(this.isSame('d') || goesIntoTheMorning));\r\n        atomicMonthDate = !(this.allDay || options.hideTime);\r\n        if (this.allDay && this.isSame('d') && (options.implicitDate || options.explicitAllDay)) {\r\n          fs.push({\r\n            name: 'all day simple',\r\n            fn: function() {\r\n              return options.allDay;\r\n            },\r\n            pre: ' ',\r\n            slot: 0\r\n          });\r\n        }\r\n        if (needDate && !options.hideYear && (!options.implicitYear || this._start.year() !== moment().year() || !this.isSame('y'))) {\r\n          fs.push({\r\n            name: 'year',\r\n            fn: function(date) {\r\n              return date.format(options.yearFormat);\r\n            },\r\n            pre: americanish ? ', ' : ' ',\r\n            slot: options.showYearFirst ? -1 : 4\r\n          });\r\n        }\r\n        if (atomicMonthDate && needDate) {\r\n          fs.push({\r\n            name: 'month-date',\r\n            fn: function(date) {\r\n              var format;\r\n              format = americanish ? options.monthFormat + \" \" + options.dayFormat : options.dayFormat + \" \" + options.monthFormat;\r\n              return date.format(format);\r\n            },\r\n            ignoreEnd: function() {\r\n              return goesIntoTheMorning;\r\n            },\r\n            pre: ' ',\r\n            slot: 2\r\n          });\r\n        }\r\n        if (!atomicMonthDate && needDate) {\r\n          fs.push({\r\n            name: 'month',\r\n            fn: function(date) {\r\n              return date.format(options.monthFormat);\r\n            },\r\n            pre: options.spaceBeforeMonth ? ' ' : '',\r\n            slot: americanish ? 2 : 3\r\n          });\r\n        }\r\n        if (!atomicMonthDate && needDate) {\r\n          fs.push({\r\n            name: 'date',\r\n            fn: function(date) {\r\n              return date.format(options.dayFormat);\r\n            },\r\n            pre: options.spaceBeforeDay ? ' ' : '',\r\n            slot: americanish ? 3 : 2\r\n          });\r\n        }\r\n        if (needDate && options.showDayOfWeek) {\r\n          fs.push({\r\n            name: 'day of week',\r\n            fn: function(date) {\r\n              return date.format(options.weekdayFormat);\r\n            },\r\n            pre: ' ',\r\n            slot: 1\r\n          });\r\n        }\r\n        if (options.groupMeridiems && needsMeridiem && !this.allDay && !options.hideTime) {\r\n          fs.push({\r\n            name: 'meridiem',\r\n            fn: function(t) {\r\n              return t.format(options.meridiemFormat);\r\n            },\r\n            slot: 6,\r\n            pre: options.spaceBeforeMeridiem ? ' ' : ''\r\n          });\r\n        }\r\n        if (!this.allDay && !options.hideTime) {\r\n          fs.push({\r\n            name: 'time',\r\n            fn: function(date) {\r\n              var str;\r\n              str = date.minutes() === 0 && options.implicitMinutes && needsMeridiem ? date.format(options.hourFormat) : date.format(options.hourFormat + \":\" + options.minuteFormat);\r\n              if (!options.groupMeridiems && needsMeridiem) {\r\n                if (options.spaceBeforeMeridiem) {\r\n                  str += ' ';\r\n                }\r\n                str += date.format(options.meridiemFormat);\r\n              }\r\n              return str;\r\n            },\r\n            slot: 5,\r\n            pre: ', '\r\n          });\r\n        }\r\n        start_bucket = [];\r\n        end_bucket = [];\r\n        common_bucket = [];\r\n        together = true;\r\n        process = (function(_this) {\r\n          return function(format) {\r\n            var end_str, start_group, start_str;\r\n            start_str = format.fn(_this._start);\r\n            end_str = format.ignoreEnd && format.ignoreEnd() ? start_str : format.fn(_this._end);\r\n            start_group = {\r\n              format: format,\r\n              value: function() {\r\n                return start_str;\r\n              }\r\n            };\r\n            if (end_str === start_str && together) {\r\n              return common_bucket.push(start_group);\r\n            } else {\r\n              if (together) {\r\n                together = false;\r\n                common_bucket.push({\r\n                  format: {\r\n                    slot: format.slot,\r\n                    pre: ''\r\n                  },\r\n                  value: function() {\r\n                    return options.template(fold(start_bucket), fold(end_bucket, true).trim());\r\n                  }\r\n                });\r\n              }\r\n              start_bucket.push(start_group);\r\n              return end_bucket.push({\r\n                format: format,\r\n                value: function() {\r\n                  return end_str;\r\n                }\r\n              });\r\n            }\r\n          };\r\n        })(this);\r\n        for (j = 0, len = fs.length; j < len; j++) {\r\n          format = fs[j];\r\n          process(format);\r\n        }\r\n        global_first = true;\r\n        fold = function(array, skip_pre) {\r\n          var k, len1, local_first, ref, section, str;\r\n          local_first = true;\r\n          str = '';\r\n          ref = array.sort(function(a, b) {\r\n            return a.format.slot - b.format.slot;\r\n          });\r\n          for (k = 0, len1 = ref.length; k < len1; k++) {\r\n            section = ref[k];\r\n            if (!global_first) {\r\n              if (local_first && skip_pre) {\r\n                str += ' ';\r\n              } else {\r\n                str += section.format.pre;\r\n              }\r\n            }\r\n            str += section.value();\r\n            global_first = false;\r\n            local_first = false;\r\n          }\r\n          return str;\r\n        };\r\n        return fold(common_bucket);\r\n      };\r\n\r\n      Twix.prototype._iterateHelper = function(period, iter, hasNext, intervalAmount) {\r\n        return {\r\n          next: function() {\r\n            var val;\r\n            if (!hasNext()) {\r\n              return null;\r\n            } else {\r\n              val = iter.clone();\r\n              iter.add(intervalAmount, period);\r\n              return val;\r\n            }\r\n          },\r\n          hasNext: hasNext\r\n        };\r\n      };\r\n\r\n      Twix.prototype._prepIterateInputs = function() {\r\n        var inputs, intervalAmount, minHours, period, ref, ref1;\r\n        inputs = 1 <= arguments.length ? slice.call(arguments, 0) : [];\r\n        if (typeof inputs[0] === 'number') {\r\n          return inputs;\r\n        }\r\n        if (typeof inputs[0] === 'string') {\r\n          period = inputs.shift();\r\n          intervalAmount = (ref = inputs.pop()) != null ? ref : 1;\r\n          if (inputs.length) {\r\n            minHours = (ref1 = inputs[0]) != null ? ref1 : false;\r\n          }\r\n        }\r\n        if (moment.isDuration(inputs[0])) {\r\n          period = 'ms';\r\n          intervalAmount = inputs[0].as(period);\r\n        }\r\n        return [intervalAmount, period, minHours];\r\n      };\r\n\r\n      Twix.prototype._inner = function(period, intervalAmount) {\r\n        var durationCount, durationPeriod, end, modulus, start;\r\n        if (period == null) {\r\n          period = 'ms';\r\n        }\r\n        if (intervalAmount == null) {\r\n          intervalAmount = 1;\r\n        }\r\n        start = this.start();\r\n        end = this._displayEnd.clone();\r\n        if (start > start.clone().startOf(period)) {\r\n          start.startOf(period).add(intervalAmount, period);\r\n        }\r\n        if (end < end.clone().endOf(period)) {\r\n          end.startOf(period);\r\n        }\r\n        durationPeriod = start.twix(end).asDuration(period);\r\n        durationCount = durationPeriod.get(period);\r\n        modulus = durationCount % intervalAmount;\r\n        end.subtract(modulus, period);\r\n        return [start, end];\r\n      };\r\n\r\n      Twix.prototype._mutated = function() {\r\n        this._start = this.allDay ? this._oStart.clone().startOf('d') : this._oStart;\r\n        this._lastMilli = this.allDay ? this._oEnd.clone().endOf('d') : this._oEnd;\r\n        this._end = this.allDay ? this._oEnd.clone().startOf('d') : this._oEnd;\r\n        return this._displayEnd = this.allDay ? this._end.clone().add(1, 'd') : this._end;\r\n      };\r\n\r\n      return Twix;\r\n\r\n    })();\r\n    Twix._extend(moment.locale(), {\r\n      _twix: Twix.defaults\r\n    });\r\n    Twix.formatTemplate = function(leftSide, rightSide) {\r\n      return leftSide + \" - \" + rightSide;\r\n    };\r\n    moment.twix = function() {\r\n      return (function(func, args, ctor) {\r\n        ctor.prototype = func.prototype;\r\n        var child = new ctor, result = func.apply(child, args);\r\n        return Object(result) === result ? result : child;\r\n      })(Twix, arguments, function(){});\r\n    };\r\n    moment.fn.twix = function() {\r\n      return (function(func, args, ctor) {\r\n        ctor.prototype = func.prototype;\r\n        var child = new ctor, result = func.apply(child, args);\r\n        return Object(result) === result ? result : child;\r\n      })(Twix, [this].concat(slice.call(arguments)), function(){});\r\n    };\r\n    moment.fn.forDuration = function(duration, allDay) {\r\n      return new Twix(this, this.clone().add(duration), allDay);\r\n    };\r\n    if (moment.duration.fn) {\r\n      moment.duration.fn.afterMoment = function(startingTime, allDay) {\r\n        return new Twix(startingTime, moment(startingTime).clone().add(this), allDay);\r\n      };\r\n      moment.duration.fn.beforeMoment = function(startingTime, allDay) {\r\n        return new Twix(moment(startingTime).clone().subtract(this), startingTime, allDay);\r\n      };\r\n    }\r\n    moment.twixClass = Twix;\r\n    return Twix;\r\n  };\r\n\r\n  if (hasModule) {\r\n    return module.exports = makeTwix(require('moment'));\r\n  }\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define('twix', ['moment'], function(moment) {\r\n      return makeTwix(moment);\r\n    });\r\n  }\r\n\r\n  if (this.moment) {\r\n    this.Twix = makeTwix(this.moment);\r\n  } else if (typeof moment !== \"undefined\" && moment !== null) {\r\n    this.Twix = makeTwix(moment);\r\n  }\r\n\r\n}).call(this);\r\n"]},"metadata":{},"sourceType":"script"}